import{O as M,P as y,o as _,e as P,g as u,r as O,b as j,w as p,d as E,v as F,x as R,z as h}from"./modules/vue-DtEGhQT5.js";import{u as g,f as N}from"./slidev/context-B8_C1T5K.js";import{p as o}from"./app-Ddl2Q9KC.js";import"./p5.tree.esm-BaqJxL2q.js";import{I as B}from"./slidev/center-CB5RFvN-.js";import"./index-Cs3j3FI-.js";import"./modules/shiki--QlaK0aY.js";import"./modules/file-saver-Ds2qT4Ee.js";const I={class:"flex flex-col items-center justify-center space-y-4"},U={__name:"ShaderCube",setup(C){g();const a=O(null);let n=null;const m=e=>{let r,f,t,l,c,s,i,b=`#version 300 es
    precision highp float;
    in vec4 aPosition;
    uniform mat4 uModelViewProjectionMatrix;
    void main() {
      gl_Position = uModelViewProjectionMatrix * aPosition;
    }`,T=`#version 300 es
    precision highp float;
    uniform sampler2D model;
    uniform vec2 u_resolution;
    out vec4 outColor;
    void main() {
      // Calculate normalized coordinates
      outColor = texture(model, gl_FragCoord.xy / u_resolution);
    }`;e.setup=async function(){e.createCanvas(400,400,e.WEBGL).parent(a.value),r=await e.loadModel("teapot.obj",!0),f=await e.loadModel("bunny.obj",!0),s=e.createCamera(),i=e.createCamera(),l=e.createFramebuffer({format:e.FLOAT}),c=e.createFramebuffer({format:e.FLOAT}),t=e.createShader(b,T),e.shader(t),t.setUniform("u_resolution",e.resolution()),console.log("Using p5 version:",e.VERSION),console.log("Using p5.Tree version:",o.Tree.VERSION)},e.draw=function(){e.background(20),e.setCamera(s),e.orbitControl(),i.cameraMatrix=s.cameraMatrix,i.projMatrix=s.projMatrix,e.resetShader(),c.begin(),e.clear(),e.setCamera(i),e.push(),e.noStroke(),e.fill("red"),e.scale(1,-1),e.scale(.8),e.model(f),e.pop(),c.end(),l.begin(),e.clear(),e.setCamera(i),e.push(),e.noStroke(),e.fill("blue"),e.scale(1,-1),e.model(r),e.pop(),l.end(),e.setCamera(s),e.shader(t),e.push(),e.stroke("purple"),e.strokeWeight(2),t.setUniform("model",c.color),v(o.Tree.NEAR),t.setUniform("model",l.color),v(o.Tree.RIGHT),e.pop()};function v(d,L){e.push(),e.beginShape();const x={[o.Tree.NEAR]:[[-80,-80,80],[80,-80,80],[80,80,80],[-80,80,80]],[o.Tree.FAR]:[[-80,-80,-80],[80,-80,-80],[80,80,-80],[-80,80,-80]],[o.Tree.LEFT]:[[-80,-80,-80],[-80,-80,80],[-80,80,80],[-80,80,-80]],[o.Tree.RIGHT]:[[80,-80,80],[80,-80,-80],[80,80,-80],[80,80,80]],[o.Tree.BOTTOM]:[[-80,80,80],[80,80,80],[80,80,-80],[-80,80,-80]],[o.Tree.TOP]:[[-80,-80,80],[80,-80,80],[80,-80,-80],[-80,-80,-80]]};if(x[d])for(const[S,k,w]of x[d])e.vertex(S,k,w);e.endShape(e.CLOSE),e.pop()}e.mouseWheel=()=>!1};return M(()=>{n=new o(m,a.value)}),y(()=>{n&&n.remove()}),(e,r)=>(_(),P("div",I,[u("div",{ref_key:"sketchContainer",ref:a,class:"rounded-lg overflow-hidden border border-white/10 shadow-2xl"},null,512),r[0]||(r[0]=u("p",{class:"text-xs text-gray-400 italic"},"Non-euclidean rendering",-1))]))}},q={__name:"slides.md__slidev_13",setup(C){const{$clicksContext:a,$frontmatter:n}=g();return a.setup(),(m,e)=>{const r=U;return _(),j(B,F(R(h(N)(h(n),12))),{default:p(()=>[e[0]||(e[0]=u("h1",null,"Portal Rendering (Non-Euclidean)",-1)),e[1]||(e[1]=u("p",null,"Use FBOs to project worlds within cube",-1)),E(r)]),_:1},16)}}};export{q as default};
